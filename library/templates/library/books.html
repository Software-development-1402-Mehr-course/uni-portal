{% extends base|default:"base.html" %}
{% block title %}Book List{% endblock %}
{% block container %}
    <h1>Book List</h1>
    <form class="input-group" action="{% url 'book_list' %}" method="get">
        <input hx-get="."
               hx-trigger="keyup changed delay:300ms"
               hx-target="#content"
               type="search"
               name="search_phrase"
               class="form-control"
               placeholder="Search books"
               value="{{ query_params.search_phrase|default:'' }}" />
    </form>
    <ul class="list-group" id="content">
        {% block content %}
            {% for book in books %}
                <a href="{% url 'book_detail' book_id=book.id %}"
                   class=" list-group-item text-decoration-none list-group-item-action d-flex justify-content-between ">
                    <span class="text-nowrap">{{ book.name }}</span>
                    <small class="text-muted text-truncate">{{ book.authors_string }}</small>
                </a>
            {% endfor %}
            {% if rest_of_results_count %}
                <li class=" list-group-item text-decoration-none list-group-item-action d-flex justify-content-center disabled">
                    <span class="text-nowrap">{{ rest_of_results_count }} results out of this list<span>
                    </li>
                {% endif %}
            {% endblock %}
        </ul>
    {% endblock %}
