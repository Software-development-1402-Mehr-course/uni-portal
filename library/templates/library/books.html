{% extends base|default:"base.html" %}
{% block title %} Book List {% endblock %}
{% block container %}
<h1>Book List</h1>
<form class="input-group" action="{% url 'book_list' %}" method="get">
  <input
    hx-get="."
    hx-trigger="keyup changed delay:300ms"
    hx-target="#content"
    type="search"
    name="q"
    class="form-control"
    placeholder="Search books"
    value="{{ search_term|default:'' }}"
  />
</form>
<ul class="list-group" id="content">
  {% block content %}
  {% for book in books %}
  <a 
    href="{% url 'book_detail' book_id=book.id %}"
    class="
      list-group-item
      text-decoration-none 
      list-group-item-action 
      d-flex 
      justify-content-between
    "
    >
      <span class="text-nowrap">{{ book.name }}</span>
      <small class="text-muted text-truncate">
        {{ book.authors_string }}
      </small>
  </a>
  {% endfor %}
  {% endblock %}
</ul>
{% endblock %}
